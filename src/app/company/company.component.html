<h2>Company Listing</h2>

<div class="mat-elevation-z8">
  <div>
    <a mat-raised-button color="primary" (click)="Openpopup(null)" style="margin: 2%">Create New</a>
  </div>

  <div style="margin: 10px 0;">
    <mat-form-field appearance="fill">
      <mat-label>Search</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Search">
    </mat-form-field>
  </div>

  <table mat-table [dataSource]="finaldata" matSort class="mat-elevation-z8">
    
    <!-- Serial Number Column -->
    <ng-container matColumnDef="serialNumber">
      <th mat-header-cell *matHeaderCellDef>Serial Number</th>
      <td mat-cell *matCellDef="let element; let i = index">{{getSerialNumber(i)}}</td>
    </ng-container>

    <!-- Other columns remain the same -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
      <td mat-cell *matCellDef="let element">{{element.id}}</td>
    </ng-container>
    
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td mat-cell *matCellDef="let element">{{element.name}}</td>
    </ng-container>
    
    <ng-container matColumnDef="empcount">
      <th mat-header-cell *matHeaderCellDef>Employee Count</th>
      <td mat-cell *matCellDef="let element">{{element.empcount | number}}</td>
    </ng-container>
    
    <ng-container matColumnDef="revenue">
      <th mat-header-cell *matHeaderCellDef>Revenue</th>
      <td mat-cell *matCellDef="let element">{{element.revenue | currency:'INR'}}</td>
    </ng-container>
    
    <ng-container matColumnDef="address">
      <th mat-header-cell *matHeaderCellDef>Address</th>
      <td mat-cell *matCellDef="let element">{{element.address}}</td>
    </ng-container>
    
    <ng-container matColumnDef="isactive">
      <th mat-header-cell *matHeaderCellDef>Is Active</th>
      <td mat-cell *matCellDef="let element">{{element.isactive}}</td>
    </ng-container>
    
    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef>Action</th>
      <td mat-cell *matCellDef="let element">
        <div>
          <a mat-raised-button (click)="Openpopup(element.id)" color="primary">Edit</a> |
          <a mat-raised-button (click)="RemoveCompany(element.id)" color="accent">Delete</a>
        </div>
      </td>
    </ng-container>
    
    <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
  </mat-paginator>
</div>
